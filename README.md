# AMD WebUI

## Автор
- ![PythonInOffice](https://github.com/pythoninoffice) - оригинальный автор проекта.
Я выражаю ему свою благодарность, ведь благодаря ему можно запустить WebUI на Windows и на видеокартах AMD. Спасибо!
- ![AMD WebUI](https://github.com/pythoninoffice/amd_webui) - оригинальный репозиторий проекта, я лишь взял его за основу и адаптировал под русский язык, параллельно внёс парочку правок по коду.

## Системные требования
- Видеокарта AMD с VRAM не менее 8 ГБ
- Версия Python: 3.7, 3.8, 3.9 или 3.10 | Можно скачать на сайте: https://www.python.org/
- Git | Можно скачать на сайте: https://git-scm.com/downloads

## Как установить?
- Клонируйте данный репозиторий с помощью `git clone https://github.com/reloginn/russian-amd-webui` на диск где свободно не менее `5 ГБ`
- Два раза нажмите на `start.bat` и дождитесь установки, после успешной установки создастся новый venv и установятся все нужные библиотеки. Установка занимает примерно 5 минут, зависит от вашего компьютера. В конце установки программа аварийно завершится с ошибкой `no module named "diffusers"`:

![Изображение](https://user-images.githubusercontent.com/90436829/205534573-eb9c3b6c-5a3d-4a7a-b218-39cc286ca5f3.png)

- Закройте командную строку, и опять откройте `start.bat`, вскоре должен запуститься WebUI.

## Авторизация в HuggingFace
- Перейдите в `Настройки` и нажмите на `HuggingFace Access Token`:
  1. Авторизуйтесь в HuggingFace.
  2. На данной странице нажмите на `New token` где в поле `name` укажите: `amd_venv`, а в поле `Role` выберите `Read`,
  далее нажмите ещё раз на `New token` где в поле `name` укажите `paperspace`, а в поле `Role` выберите `Write`.
  3. Скопируйте токен `amd_venv`, опять перейдите в настройки WebUI и в поле `Токен` вставьте свой токен, далее нажмите `Войти в HuggingFace`.
  Вы должны увидить сообщение об успешной авторизации.


## Установка модели
- После успешного входа в HuggingFace перейдите `Менеджер моделей`, в `Модель` введите найденное имя модели на HuggingFace, к примеру: `stabilityai/stable-diffusion-2`
- Нажмите на `Установить модель`. Далее дождитесь загрузки, все логи загрузки вы будете видеть в консоли, обычно загрузка занимает 10-30 минут, всё зависит от вашего интернет соединения и скорости CPU.

- Следите за логами в командной строке, когда загрузка и преобразование модели будет завершено, вы увидите `Uninstalling onnx...`:
![Изображение](https://user-images.githubusercontent.com/90436829/205537004-fb7a3296-1bfe-4533-81a4-efb3013a1a87.png)

- После того как вы увидели `Uninstalling onnx...` закройте командную строку и откройте `start.bat` опять.

- После успешной загрузки WebUI вы можете начать генерировать изображения, достаточно в выпадающем списке `Выберите модель:` выбрать нужную вам модель и в `Статус модели` дождаться надписи `Модель готова`

## `DmlExecutionProvider` - что это?
- Если в командной строке появится надпись: `"DmlExecutionProvider" is not in available provider names`, то это значит что вы пытаетесь генерировать картинки на CPU, а не на GPU.
![Изображение](https://user-images.githubusercontent.com/90436829/205537433-fa0c7794-7eaf-4b23-8ebf-9d4ba16ce0b4.png)

## Наслаждайтесь :)
